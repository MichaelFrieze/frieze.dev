---
import portrait from '@/assets/images/portrait.jpg'
import BlogCard from '@/components/BlogCard.astro'
import Link from '@/components/Link.astro'
import PageHead from '@/components/PageHead.astro'
import SocialIcons from '@/components/SocialIcons.astro'
import { Button, buttonVariants } from '@/components/ui/button'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { SITE, SOCIAL_LINKS } from '@/consts'
import Layout from '@/layouts/Layout.astro'
import { getRecentPosts } from '@/lib/data-utils'
import { Icon } from 'astro-icon/components'
import { Image } from 'astro:assets'

const blog = await getRecentPosts(SITE.featuredPostCount)
---

<Layout class="max-w-3xl">
  <PageHead slot="head" title="Home" />

  <section class="space-y-6 md:hidden">
    <Image
      src={portrait}
      alt="Portrait of Michael Frieze"
      width={280}
      height={280}
      class="rounded-xl shadow-md"
    />

    <Card className="bg-card/30 w-full p-4">
      <div>
        <h1 class="text-2xl font-bold">Hi, I'm Michael Frieze</h1>
        <p class="text-foreground/60 italic">
          Web Developer based in Metro Detroit
        </p>
      </div>

      <div class="text-foreground/80 space-y-3">
        <p>
          My journey in web development began in high school and has led me
          through various roles, from Java on the back-end to my current focus
          on front-end. These days, I'm building with JavaScript, TypeScript,
          React, and frameworks like Next.js, TanStack Start, and Astro. This
          site is my space to share what I'm learning, what I'm building, and
          occasionally just whatever's on my mind.
        </p>

        <p>
          When I'm not coding, I enjoy playing guitar and collaborating with
          other musicians. I also like immersing myself in PC games like "Star
          Citizen" and "Crusader Kings 3".
        </p>

        <p>
          At home, I live with my partner Kayla, a kindergarten teacher and avid
          reader, along with our 10-year-old chihuahua who's our everyday
          companion.
        </p>

        <p>
          Curious about how we can work together or just want to chat? Send me
          an email or connect with me on platforms like Reddit, X, or Bluesky.
        </p>
        <SocialIcons links={SOCIAL_LINKS} bgVariant="card" />
      </div>
    </Card>
  </section>

  <section class="hidden md:block">
    <div class="flex flex-row items-start gap-4">
      <Card className="bg-card/30 w-full p-4">
        <div>
          <h1 class="text-2xl font-bold">Hi, I'm Michael Frieze</h1>
          <p class="text-foreground/60 italic">
            Web Developer based in Metro Detroit
          </p>
        </div>

        <div class="text-foreground/80 space-y-3">
          <p>
            My journey in web development began in high school and has led me
            through various roles, from Java on the back-end to my current focus
            on front-end. These days, I'm building with JavaScript, TypeScript,
            React, and frameworks like Next.js, TanStack Start, and Astro. This
            site is my space to share what I'm learning, what I'm building, and
            occasionally just whatever's on my mind.
          </p>

          <p>
            When I'm not coding, I enjoy playing guitar and collaborating with
            other musicians. I also like immersing myself in PC games like "Star
            Citizen" and "Crusader Kings 3".
          </p>

          <p>
            At home, I live with my partner Kayla, a kindergarten teacher and
            avid reader, along with our 10-year-old chihuahua who's our everyday
            companion.
          </p>

          <p>
            Curious about how we can work together or just want to chat? Send me
            an email or connect with me on platforms like Reddit, X, or Bluesky.
          </p>
        </div>
      </Card>

      <div class="flex w-2/3 flex-col gap-y-4">
        <Image
          src={portrait}
          alt="Portrait of Michael Frieze"
          width={280}
          height={280}
          class="rounded-xl shadow-md"
        />

        <div class="flex justify-center">
          <Button
            variant="outline"
            size="default"
            className="text-foreground/80 hover:text-foreground w-full cursor-pointer"
          >
            <Icon name={'lucide:mail'} class="size-4" />
            Contact Me</Button
          >
        </div>

        <Card className="bg-card/30 gap-0 p-0 text-sm">
          <CardHeader className="px-4 pt-2 !pb-1.5">
            <CardTitle
              className="text-foreground flex items-center gap-2 text-lg"
            >
              <Icon name={'lucide:link'} class="size-4" />
              Links
            </CardTitle>
          </CardHeader>

          <CardContent className="p-0">
            <ul class="">
              <li>
                <Link
                  href="https://github.com/michaelfrieze"
                  external
                  aria-label="Follow on GitHub"
                  class="group text-foreground/80 hover:bg-card hover:text-foreground focus-visible:ring-ring inline-flex w-full items-center justify-between px-4 py-2.5 transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none"
                >
                  <span class="inline-flex items-center gap-2">
                    <Icon name={'lucide:github'} class="size-4" />
                    Follow on GitHub
                  </span>
                  <Icon
                    name={'lucide:arrow-up-right'}
                    class="size-3 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
                  />
                </Link>
              </li>

              <li>
                <Link
                  href="https://reddit.com/u/michaelfrieze"
                  external
                  aria-label="Follow on Reddit"
                  class="group text-foreground/80 hover:bg-card hover:text-foreground focus-visible:ring-ring inline-flex w-full items-center justify-between px-4 py-2.5 transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none"
                >
                  <span class="inline-flex items-center gap-2">
                    <Icon name={'ri:reddit-line'} class="size-4" />
                    Follow on Reddit
                  </span>
                  <Icon
                    name={'lucide:arrow-up-right'}
                    class="size-3 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
                  />
                </Link>
              </li>

              <li>
                <Link
                  href="https://x.com/michaelfrieze"
                  external
                  aria-label="Follow on Twitter"
                  class="group text-foreground/80 hover:bg-card hover:text-foreground focus-visible:ring-ring inline-flex w-full items-center justify-between px-4 py-2.5 transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none"
                >
                  <span class="inline-flex items-center gap-2">
                    <Icon name={'lucide:twitter'} class="size-4" />
                    Follow on Twitter
                  </span>
                  <Icon
                    name={'lucide:arrow-up-right'}
                    class="size-3 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
                  />
                </Link>
              </li>

              <li>
                <Link
                  href="https://bsky.app/profile/frieze.dev"
                  external
                  aria-label="Follow on Bluesky"
                  class="group text-foreground/80 hover:bg-card hover:text-foreground focus-visible:ring-ring inline-flex w-full items-center justify-between px-4 py-2.5 transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none"
                >
                  <span class="inline-flex items-center gap-2">
                    <Icon name={'ri:bluesky-line'} class="size-4" />
                    Follow on Bluesky
                  </span>
                  <Icon
                    name={'lucide:arrow-up-right'}
                    class="size-3 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
                  />
                </Link>
              </li>

              <!-- <li>
                <Link
                  href="mailto:michael@frieze.dev"
                  external
                  aria-label="Send me an email"
                  class="group text-foreground/80 hover:bg-card/60 hover:text-foreground focus-visible:ring-ring inline-flex w-full items-center justify-between px-4 py-2.5 transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none"
                >
                  <span class="inline-flex items-center gap-2">
                    <Icon
                      name={'lucide:mail'}
                      class="text-muted-foreground group-hover:text-foreground size-4 transition-colors"
                    />
                    Send me an email
                  </span>
                  <Icon
                    name={'lucide:arrow-up-right'}
                    class="size-3 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
                  />
                </Link>
              </li> -->
            </ul>
          </CardContent>
        </Card>
      </div>
    </div>
  </section>

  <section class="flex flex-col gap-y-4">
    <h2 class="text-2xl font-medium">Latest posts</h2>
    <ul class="flex flex-col gap-y-4">
      {
        blog.map((post) => (
          <li>
            <BlogCard entry={post} />
          </li>
        ))
      }
    </ul>
    <div class="flex justify-center">
      <Link
        href="/blog"
        class={buttonVariants({ variant: 'ghost' }) + ' group'}
      >
        See all posts <span
          class="ml-1.5 transition-transform group-hover:translate-x-1"
          >&rarr;</span
        >
      </Link>
    </div>
  </section>
</Layout>
